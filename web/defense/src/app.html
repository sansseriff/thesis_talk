<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="%sveltekit.assets%/favicon.png" />
	<meta name="viewport" content="width=device-width" />
	<script type="text/javascript" src="/bokeh/cdn.bokeh.org_bokeh_release_bokeh-3.2.2.min.js"></script>
    <script type="text/javascript" src="/bokeh/cdn.bokeh.org_bokeh_release_bokeh-gl-3.2.2.min.js"></script>
    <script type="text/javascript" src="/bokeh/cdn.bokeh.org_bokeh_release_bokeh-widgets-3.2.2.min.js"></script>
    <script type="text/javascript" src="/bokeh/cdn.bokeh.org_bokeh_release_bokeh-tables-3.2.2.min.js"></script>
    <script type="text/javascript" src="/bokeh/cdn.bokeh.org_bokeh_release_bokeh-mathjax-3.2.2.min.js"></script>
    <script type="text/javascript" src="/bokeh/cdn.bokeh.org_bokeh_release_bokeh-api-3.2.2.min.js"></script>
	%sveltekit.head%
</head>

<body data-sveltekit-preload-data="hover">
	<div style="display: contents">%sveltekit.body%</div>
</body>

</html>


<style>
	body,
	html {
		overflow: hidden;
	}

	img {
		display: block;
		max-width: 100%;
	}
</style>


<!-- <script>

	// Function to establish a connection to the WebSocket server for a specific image
	function connectToBackend() {

		// if (typeof window === 'undefined') {
		//   console.error('This function can only be run in a browser environment');
		//   return;
		// }
		let connection = null;

		let slide_state = { slide: 1 }

		connection = new WebSocket(`ws://localhost:8000/ws/`);

		connection.onopen = (event) => {
			// Once the connection is open, start sending the chunks of the current image
			if (connection) {
				connection.send(JSON.stringify(slide_state));
			}
		};

		// Set the event handler for receiving messages
		connection.onmessage = (event) => console.log("message received: ", event.data);

		// Set the event handler for errors
		connection.onerror = (event) => {
			console.error('WebSocket error observed:', event);
		};


		// Set the event handler for closing the connection
		connection.onclose = (event) => {
		};

		return { connection, slide_state };
	}

	const {connection ,slide_state } = connectToBackend();

</script> -->